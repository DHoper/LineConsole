[2025-05-21 14:50:25 Warning] The WebRootPath was not found: "/app/wwwroot". Static files may be unavailable.
[2025-05-21 14:50:25 Warning] The WebRootPath was not found: "/app/wwwroot". Static files may be unavailable.
[2025-05-21 14:50:25 Information] Now listening on: "http://[::]:8080"
[2025-05-21 14:50:25 Information] Now listening on: "https://[::]:8081"
[2025-05-21 14:50:25 Information] Application started. Press Ctrl+C to shut down.
[2025-05-21 14:50:25 Information] Hosting environment: "Development"
[2025-05-21 14:50:25 Information] Content root path: "/app"
[2025-05-21 14:51:49 Information] Request starting "HTTP/2" "GET" "https"://"localhost:32768""""/swagger/index.html""" - null null
[2025-05-21 14:51:49 Information] Request finished "HTTP/2" "GET" "https"://"localhost:32768""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 255.1716ms
[2025-05-21 14:51:49 Information] Request starting "HTTP/2" "GET" "https"://"localhost:32768""""/swagger/v1/swagger.json""" - null null
[2025-05-21 14:51:49 Information] Request finished "HTTP/2" "GET" "https"://"localhost:32768""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 258.7114ms
[2025-05-21 14:52:29 Information] Request starting "HTTP/1.1" "GET" "https"://"localhost:54781""""/api/line/richmenu/default""" - null null
[2025-05-21 14:52:29 Information] Request starting "HTTP/1.1" "GET" "https"://"localhost:54781""""/api/line/richmenu/list-with-preview""" - null null
[2025-05-21 14:52:29 Information] Executing endpoint '"LineConsole.Server.Controllers.LineRichMenuController.GetListWithPreviewAsync (LineConsole.Server)"'
[2025-05-21 14:52:29 Information] Executing endpoint '"LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync (LineConsole.Server)"'
[2025-05-21 14:52:29 Information] Route matched with "{action = \"GetListWithPreview\", controller = \"LineRichMenu\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LineConsole.Application.Models.Api.ApiResponse`1[System.Collections.Generic.List`1[LineConsole.Application.Models.Line.RichMenu.LineRichMenuWithImageResult]]]] GetListWithPreviewAsync(System.String, System.Threading.CancellationToken)" on controller "LineConsole.Server.Controllers.LineRichMenuController" ("LineConsole.Server").
[2025-05-21 14:52:29 Information] Route matched with "{action = \"GetDefault\", controller = \"LineRichMenu\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LineConsole.Application.Models.Api.ApiResponse`1[LineConsole.Application.Models.Line.RichMenu.LineRichMenuIdResult]]] GetDefaultAsync(System.String, System.Threading.CancellationToken)" on controller "LineConsole.Server.Controllers.LineRichMenuController" ("LineConsole.Server").
[2025-05-21 14:52:29 Information] Start processing HTTP request "GET" "https://api.line.me/v2/bot/richmenu/list"
[2025-05-21 14:52:29 Information] Start processing HTTP request "GET" "https://api.line.me/v2/bot/user/all/richmenu"
[2025-05-21 14:52:29 Information] Sending HTTP request "GET" "https://api.line.me/v2/bot/user/all/richmenu"
[2025-05-21 14:52:29 Information] Sending HTTP request "GET" "https://api.line.me/v2/bot/richmenu/list"
[2025-05-21 14:52:29 Information] Received HTTP response headers after 284.6351ms - 200
[2025-05-21 14:52:29 Information] End processing HTTP request after 294.9641ms - 200
[2025-05-21 14:52:29 Information] Received HTTP response headers after 295.1914ms - 404
[2025-05-21 14:52:29 Information] End processing HTTP request after 302.5229ms - 404
[2025-05-21 14:52:29 Information] Start processing HTTP request "GET" "https://api-data.line.me/v2/bot/richmenu/richmenu-fa0b906691637d98bd35aa9c0b085ea1/content"
[2025-05-21 14:52:29 Information] Sending HTTP request "GET" "https://api-data.line.me/v2/bot/richmenu/richmenu-fa0b906691637d98bd35aa9c0b085ea1/content"
[2025-05-21 14:52:29 Error] LINE API GET 請求失敗："https://api.line.me/v2/bot/user/all/richmenu" System.Net.Http.HttpRequestException: HTTP 404 Not Found，內容：{"message":"no default richmenu","details":[]}
   at LineConsole.Infrastructure.Http.ExternalHttpClient.EnsureSuccessWithContentAsync(HttpResponseMessage response, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 108
   at LineConsole.Infrastructure.Http.ExternalHttpClient.GetAsync[T](String url, Dictionary`2 headers, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 26
   at LineConsole.Infrastructure.Clients.LineClient.GetJsonAsync[T](String endpoint, String accessToken, Boolean useDataDomain, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 119
[2025-05-21 14:52:29 Information] Executed action "LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync (LineConsole.Server)" in 563.2668ms
[2025-05-21 14:52:29 Information] Executed endpoint '"LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync (LineConsole.Server)"'
[2025-05-21 14:52:29 Warning] LINE API 錯誤："LINE API 讀取錯誤" LineConsole.Application.Exceptions.LineApiException: LINE API 讀取錯誤
 ---> System.Net.Http.HttpRequestException: HTTP 404 Not Found，內容：{"message":"no default richmenu","details":[]}
   at LineConsole.Infrastructure.Http.ExternalHttpClient.EnsureSuccessWithContentAsync(HttpResponseMessage response, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 108
   at LineConsole.Infrastructure.Http.ExternalHttpClient.GetAsync[T](String url, Dictionary`2 headers, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 26
   at LineConsole.Infrastructure.Clients.LineClient.GetJsonAsync[T](String endpoint, String accessToken, Boolean useDataDomain, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 119
   --- End of inner exception stack trace ---
   at LineConsole.Infrastructure.Clients.LineClient.GetJsonAsync[T](String endpoint, String accessToken, Boolean useDataDomain, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 124
   at LineConsole.Application.Services.LineRichMenuService.GetDefaultRichMenuAsync(String accessToken, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Application\Services\Line\LineRichMenuService.cs:line 139
   at LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync(String accessToken, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Server\Controllers\LineRichMenuController.cs:line 133
   at lambda_method8(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ApiExceptionMiddleware.Invoke(HttpContext context) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Server\Middleware\ApiExceptionMiddleware.cs:line 19
[2025-05-21 14:52:29 Information] Request finished "HTTP/1.1" "GET" "https"://"localhost:54781""""/api/line/richmenu/default""" - 400 null "application/json; charset=utf-8" 673.4545ms
[2025-05-21 14:52:30 Information] Received HTTP response headers after 327.7568ms - 200
[2025-05-21 14:52:30 Information] End processing HTTP request after 329.508ms - 200
[2025-05-21 14:52:30 Information] Start processing HTTP request "GET" "https://api-data.line.me/v2/bot/richmenu/richmenu-50eae9f8c8aa49ad4ed535f138594836/content"
[2025-05-21 14:52:30 Information] Sending HTTP request "GET" "https://api-data.line.me/v2/bot/richmenu/richmenu-50eae9f8c8aa49ad4ed535f138594836/content"
[2025-05-21 14:52:30 Information] Received HTTP response headers after 68.0207ms - 404
[2025-05-21 14:52:30 Information] End processing HTTP request after 69.2597ms - 404
[2025-05-21 14:52:30 Error] LINE API 下載串流失敗："https://api-data.line.me/v2/bot/richmenu/richmenu-50eae9f8c8aa49ad4ed535f138594836/content" System.Net.Http.HttpRequestException: HTTP 404 Not Found，內容：{"message":"Not found"}
   at LineConsole.Infrastructure.Http.ExternalHttpClient.EnsureSuccessWithContentAsync(HttpResponseMessage response, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 108
   at LineConsole.Infrastructure.Http.ExternalHttpClient.GetStreamAsync(String url, Dictionary`2 headers, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 38
   at LineConsole.Infrastructure.Clients.LineClient.GetStreamAsync(String endpoint, String accessToken, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 103
[2025-05-21 14:52:30 Information] Start processing HTTP request "GET" "https://api-data.line.me/v2/bot/richmenu/richmenu-7ef7575288f5df2bb729cc4fe2583659/content"
[2025-05-21 14:52:30 Information] Sending HTTP request "GET" "https://api-data.line.me/v2/bot/richmenu/richmenu-7ef7575288f5df2bb729cc4fe2583659/content"
[2025-05-21 14:52:30 Information] Received HTTP response headers after 68.1635ms - 404
[2025-05-21 14:52:30 Information] End processing HTTP request after 70.1884ms - 404
[2025-05-21 14:52:30 Error] LINE API 下載串流失敗："https://api-data.line.me/v2/bot/richmenu/richmenu-7ef7575288f5df2bb729cc4fe2583659/content" System.Net.Http.HttpRequestException: HTTP 404 Not Found，內容：{"message":"Not found"}
   at LineConsole.Infrastructure.Http.ExternalHttpClient.EnsureSuccessWithContentAsync(HttpResponseMessage response, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 108
   at LineConsole.Infrastructure.Http.ExternalHttpClient.GetStreamAsync(String url, Dictionary`2 headers, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 38
   at LineConsole.Infrastructure.Clients.LineClient.GetStreamAsync(String endpoint, String accessToken, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 103
[2025-05-21 14:52:30 Information] Start processing HTTP request "GET" "https://api-data.line.me/v2/bot/richmenu/richmenu-52b281562972ac247fe3376453995eac/content"
[2025-05-21 14:52:30 Information] Sending HTTP request "GET" "https://api-data.line.me/v2/bot/richmenu/richmenu-52b281562972ac247fe3376453995eac/content"
[2025-05-21 14:52:31 Information] Request starting "HTTP/1.1" "GET" "https"://"localhost:54781""""/api/line/richmenu/default""" - null null
[2025-05-21 14:52:31 Information] Executing endpoint '"LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync (LineConsole.Server)"'
[2025-05-21 14:52:31 Information] Route matched with "{action = \"GetDefault\", controller = \"LineRichMenu\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LineConsole.Application.Models.Api.ApiResponse`1[LineConsole.Application.Models.Line.RichMenu.LineRichMenuIdResult]]] GetDefaultAsync(System.String, System.Threading.CancellationToken)" on controller "LineConsole.Server.Controllers.LineRichMenuController" ("LineConsole.Server").
[2025-05-21 14:52:31 Information] Start processing HTTP request "GET" "https://api.line.me/v2/bot/user/all/richmenu"
[2025-05-21 14:52:31 Information] Sending HTTP request "GET" "https://api.line.me/v2/bot/user/all/richmenu"
[2025-05-21 14:52:31 Information] Received HTTP response headers after 80.8132ms - 404
[2025-05-21 14:52:31 Information] End processing HTTP request after 81.9377ms - 404
[2025-05-21 14:52:31 Error] LINE API GET 請求失敗："https://api.line.me/v2/bot/user/all/richmenu" System.Net.Http.HttpRequestException: HTTP 404 Not Found，內容：{"message":"no default richmenu","details":[]}
   at LineConsole.Infrastructure.Http.ExternalHttpClient.EnsureSuccessWithContentAsync(HttpResponseMessage response, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 108
   at LineConsole.Infrastructure.Http.ExternalHttpClient.GetAsync[T](String url, Dictionary`2 headers, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 26
   at LineConsole.Infrastructure.Clients.LineClient.GetJsonAsync[T](String endpoint, String accessToken, Boolean useDataDomain, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 119
[2025-05-21 14:52:31 Information] Executed action "LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync (LineConsole.Server)" in 183.1009ms
[2025-05-21 14:52:31 Information] Executed endpoint '"LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync (LineConsole.Server)"'
[2025-05-21 14:52:31 Warning] LINE API 錯誤："LINE API 讀取錯誤" LineConsole.Application.Exceptions.LineApiException: LINE API 讀取錯誤
 ---> System.Net.Http.HttpRequestException: HTTP 404 Not Found，內容：{"message":"no default richmenu","details":[]}
   at LineConsole.Infrastructure.Http.ExternalHttpClient.EnsureSuccessWithContentAsync(HttpResponseMessage response, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 108
   at LineConsole.Infrastructure.Http.ExternalHttpClient.GetAsync[T](String url, Dictionary`2 headers, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 26
   at LineConsole.Infrastructure.Clients.LineClient.GetJsonAsync[T](String endpoint, String accessToken, Boolean useDataDomain, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 119
   --- End of inner exception stack trace ---
   at LineConsole.Infrastructure.Clients.LineClient.GetJsonAsync[T](String endpoint, String accessToken, Boolean useDataDomain, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 124
   at LineConsole.Application.Services.LineRichMenuService.GetDefaultRichMenuAsync(String accessToken, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Application\Services\Line\LineRichMenuService.cs:line 139
   at LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync(String accessToken, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Server\Controllers\LineRichMenuController.cs:line 133
   at lambda_method8(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ApiExceptionMiddleware.Invoke(HttpContext context) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Server\Middleware\ApiExceptionMiddleware.cs:line 19
[2025-05-21 14:52:31 Information] Request finished "HTTP/1.1" "GET" "https"://"localhost:54781""""/api/line/richmenu/default""" - 400 null "application/json; charset=utf-8" 215.6853ms
[2025-05-21 14:52:31 Information] Received HTTP response headers after 666.4027ms - 200
[2025-05-21 14:52:31 Information] End processing HTTP request after 667.7784ms - 200
[2025-05-21 14:52:31 Information] Start processing HTTP request "GET" "https://api-data.line.me/v2/bot/richmenu/richmenu-0c078b860b4e263546e7206cd9beb8d7/content"
[2025-05-21 14:52:31 Information] Sending HTTP request "GET" "https://api-data.line.me/v2/bot/richmenu/richmenu-0c078b860b4e263546e7206cd9beb8d7/content"
[2025-05-21 14:52:31 Information] Received HTTP response headers after 75.0089ms - 404
[2025-05-21 14:52:31 Information] End processing HTTP request after 76.3935ms - 404
[2025-05-21 14:52:31 Error] LINE API 下載串流失敗："https://api-data.line.me/v2/bot/richmenu/richmenu-0c078b860b4e263546e7206cd9beb8d7/content" System.Net.Http.HttpRequestException: HTTP 404 Not Found，內容：{"message":"Not found"}
   at LineConsole.Infrastructure.Http.ExternalHttpClient.EnsureSuccessWithContentAsync(HttpResponseMessage response, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 108
   at LineConsole.Infrastructure.Http.ExternalHttpClient.GetStreamAsync(String url, Dictionary`2 headers, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 38
   at LineConsole.Infrastructure.Clients.LineClient.GetStreamAsync(String endpoint, String accessToken, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 103
[2025-05-21 14:52:31 Information] Start processing HTTP request "GET" "https://api-data.line.me/v2/bot/richmenu/richmenu-a6662582ec23927cce8f94b88bb7dcbc/content"
[2025-05-21 14:52:31 Information] Sending HTTP request "GET" "https://api-data.line.me/v2/bot/richmenu/richmenu-a6662582ec23927cce8f94b88bb7dcbc/content"
[2025-05-21 14:52:31 Information] Received HTTP response headers after 68.6705ms - 404
[2025-05-21 14:52:31 Information] End processing HTTP request after 70.025ms - 404
[2025-05-21 14:52:31 Error] LINE API 下載串流失敗："https://api-data.line.me/v2/bot/richmenu/richmenu-a6662582ec23927cce8f94b88bb7dcbc/content" System.Net.Http.HttpRequestException: HTTP 404 Not Found，內容：{"message":"Not found"}
   at LineConsole.Infrastructure.Http.ExternalHttpClient.EnsureSuccessWithContentAsync(HttpResponseMessage response, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 108
   at LineConsole.Infrastructure.Http.ExternalHttpClient.GetStreamAsync(String url, Dictionary`2 headers, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 38
   at LineConsole.Infrastructure.Clients.LineClient.GetStreamAsync(String endpoint, String accessToken, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 103
[2025-05-21 14:52:31 Information] Executing "ObjectResult", writing value of type '"LineConsole.Application.Models.Api.ApiResponse`1[[System.Collections.Generic.List`1[[LineConsole.Application.Models.Line.RichMenu.LineRichMenuWithImageResult, LineConsole.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
[2025-05-21 14:52:31 Information] Executed action "LineConsole.Server.Controllers.LineRichMenuController.GetListWithPreviewAsync (LineConsole.Server)" in 2380.3562ms
[2025-05-21 14:52:31 Information] Executed endpoint '"LineConsole.Server.Controllers.LineRichMenuController.GetListWithPreviewAsync (LineConsole.Server)"'
[2025-05-21 14:52:31 Information] Request finished "HTTP/1.1" "GET" "https"://"localhost:54781""""/api/line/richmenu/list-with-preview""" - 200 null "application/json; charset=utf-8" 2442.4032ms
[2025-05-21 14:52:33 Information] Request starting "HTTP/1.1" "GET" "https"://"localhost:54781""""/api/line/richmenu/default""" - null null
[2025-05-21 14:52:33 Information] Executing endpoint '"LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync (LineConsole.Server)"'
[2025-05-21 14:52:33 Information] Route matched with "{action = \"GetDefault\", controller = \"LineRichMenu\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LineConsole.Application.Models.Api.ApiResponse`1[LineConsole.Application.Models.Line.RichMenu.LineRichMenuIdResult]]] GetDefaultAsync(System.String, System.Threading.CancellationToken)" on controller "LineConsole.Server.Controllers.LineRichMenuController" ("LineConsole.Server").
[2025-05-21 14:52:33 Information] Start processing HTTP request "GET" "https://api.line.me/v2/bot/user/all/richmenu"
[2025-05-21 14:52:33 Information] Sending HTTP request "GET" "https://api.line.me/v2/bot/user/all/richmenu"
[2025-05-21 14:52:33 Information] Received HTTP response headers after 114.673ms - 404
[2025-05-21 14:52:33 Information] End processing HTTP request after 115.7486ms - 404
[2025-05-21 14:52:33 Error] LINE API GET 請求失敗："https://api.line.me/v2/bot/user/all/richmenu" System.Net.Http.HttpRequestException: HTTP 404 Not Found，內容：{"message":"no default richmenu","details":[]}
   at LineConsole.Infrastructure.Http.ExternalHttpClient.EnsureSuccessWithContentAsync(HttpResponseMessage response, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 108
   at LineConsole.Infrastructure.Http.ExternalHttpClient.GetAsync[T](String url, Dictionary`2 headers, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 26
   at LineConsole.Infrastructure.Clients.LineClient.GetJsonAsync[T](String endpoint, String accessToken, Boolean useDataDomain, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 119
[2025-05-21 14:52:33 Information] Executed action "LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync (LineConsole.Server)" in 210.4922ms
[2025-05-21 14:52:33 Information] Executed endpoint '"LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync (LineConsole.Server)"'
[2025-05-21 14:52:33 Warning] LINE API 錯誤："LINE API 讀取錯誤" LineConsole.Application.Exceptions.LineApiException: LINE API 讀取錯誤
 ---> System.Net.Http.HttpRequestException: HTTP 404 Not Found，內容：{"message":"no default richmenu","details":[]}
   at LineConsole.Infrastructure.Http.ExternalHttpClient.EnsureSuccessWithContentAsync(HttpResponseMessage response, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 108
   at LineConsole.Infrastructure.Http.ExternalHttpClient.GetAsync[T](String url, Dictionary`2 headers, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 26
   at LineConsole.Infrastructure.Clients.LineClient.GetJsonAsync[T](String endpoint, String accessToken, Boolean useDataDomain, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 119
   --- End of inner exception stack trace ---
   at LineConsole.Infrastructure.Clients.LineClient.GetJsonAsync[T](String endpoint, String accessToken, Boolean useDataDomain, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 124
   at LineConsole.Application.Services.LineRichMenuService.GetDefaultRichMenuAsync(String accessToken, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Application\Services\Line\LineRichMenuService.cs:line 139
   at LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync(String accessToken, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Server\Controllers\LineRichMenuController.cs:line 133
   at lambda_method8(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ApiExceptionMiddleware.Invoke(HttpContext context) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Server\Middleware\ApiExceptionMiddleware.cs:line 19
[2025-05-21 14:52:33 Information] Request finished "HTTP/1.1" "GET" "https"://"localhost:54781""""/api/line/richmenu/default""" - 400 null "application/json; charset=utf-8" 239.0484ms
[2025-05-21 14:52:37 Information] Request starting "HTTP/1.1" "GET" "https"://"localhost:54781""""/api/line/richmenu/default""" - null null
[2025-05-21 14:52:37 Information] Executing endpoint '"LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync (LineConsole.Server)"'
[2025-05-21 14:52:37 Information] Route matched with "{action = \"GetDefault\", controller = \"LineRichMenu\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LineConsole.Application.Models.Api.ApiResponse`1[LineConsole.Application.Models.Line.RichMenu.LineRichMenuIdResult]]] GetDefaultAsync(System.String, System.Threading.CancellationToken)" on controller "LineConsole.Server.Controllers.LineRichMenuController" ("LineConsole.Server").
[2025-05-21 14:52:37 Information] Start processing HTTP request "GET" "https://api.line.me/v2/bot/user/all/richmenu"
[2025-05-21 14:52:37 Information] Sending HTTP request "GET" "https://api.line.me/v2/bot/user/all/richmenu"
[2025-05-21 14:52:37 Information] Received HTTP response headers after 87.6446ms - 404
[2025-05-21 14:52:37 Information] End processing HTTP request after 88.8916ms - 404
[2025-05-21 14:52:37 Error] LINE API GET 請求失敗："https://api.line.me/v2/bot/user/all/richmenu" System.Net.Http.HttpRequestException: HTTP 404 Not Found，內容：{"message":"no default richmenu","details":[]}
   at LineConsole.Infrastructure.Http.ExternalHttpClient.EnsureSuccessWithContentAsync(HttpResponseMessage response, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 108
   at LineConsole.Infrastructure.Http.ExternalHttpClient.GetAsync[T](String url, Dictionary`2 headers, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 26
   at LineConsole.Infrastructure.Clients.LineClient.GetJsonAsync[T](String endpoint, String accessToken, Boolean useDataDomain, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 119
[2025-05-21 14:52:37 Information] Executed action "LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync (LineConsole.Server)" in 182.1204ms
[2025-05-21 14:52:37 Information] Executed endpoint '"LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync (LineConsole.Server)"'
[2025-05-21 14:52:37 Warning] LINE API 錯誤："LINE API 讀取錯誤" LineConsole.Application.Exceptions.LineApiException: LINE API 讀取錯誤
 ---> System.Net.Http.HttpRequestException: HTTP 404 Not Found，內容：{"message":"no default richmenu","details":[]}
   at LineConsole.Infrastructure.Http.ExternalHttpClient.EnsureSuccessWithContentAsync(HttpResponseMessage response, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 108
   at LineConsole.Infrastructure.Http.ExternalHttpClient.GetAsync[T](String url, Dictionary`2 headers, CancellationToken cancellationToken) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Http\ExternalHttpClient.cs:line 26
   at LineConsole.Infrastructure.Clients.LineClient.GetJsonAsync[T](String endpoint, String accessToken, Boolean useDataDomain, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 119
   --- End of inner exception stack trace ---
   at LineConsole.Infrastructure.Clients.LineClient.GetJsonAsync[T](String endpoint, String accessToken, Boolean useDataDomain, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Infrastructure\Clients\LineClient.cs:line 124
   at LineConsole.Application.Services.LineRichMenuService.GetDefaultRichMenuAsync(String accessToken, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Application\Services\Line\LineRichMenuService.cs:line 139
   at LineConsole.Server.Controllers.LineRichMenuController.GetDefaultAsync(String accessToken, CancellationToken ct) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Server\Controllers\LineRichMenuController.cs:line 133
   at lambda_method8(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ApiExceptionMiddleware.Invoke(HttpContext context) in C:\Users\DHoper7\source\repos\LineConsole\LineConsole.Server\Middleware\ApiExceptionMiddleware.cs:line 19
[2025-05-21 14:52:37 Information] Request finished "HTTP/1.1" "GET" "https"://"localhost:54781""""/api/line/richmenu/default""" - 400 null "application/json; charset=utf-8" 209.614ms
[2025-05-21 15:47:21 Warning] The WebRootPath was not found: "/app/wwwroot". Static files may be unavailable.
[2025-05-21 15:47:21 Warning] The WebRootPath was not found: "/app/wwwroot". Static files may be unavailable.
[2025-05-21 15:47:21 Information] Now listening on: "http://[::]:8080"
[2025-05-21 15:47:21 Information] Now listening on: "https://[::]:8081"
[2025-05-21 15:47:21 Information] Application started. Press Ctrl+C to shut down.
[2025-05-21 15:47:21 Information] Hosting environment: "Development"
[2025-05-21 15:47:21 Information] Content root path: "/app"
[2025-05-21 15:49:53 Information] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[2025-05-21 15:49:53 Information] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
[2025-05-21 15:49:53 Information] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result"
[2025-05-21 15:49:53 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;"
[2025-05-21 15:49:53 Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[2025-05-21 15:49:53 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[2025-05-21 15:49:53 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
[2025-05-21 15:49:53 Information] Applying migration '"20250521074947_Init"'.
[2025-05-21 15:49:53 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Users] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);"
[2025-05-21 15:49:53 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250521074947_Init', N'9.0.5');"
[2025-05-21 15:49:53 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result"
