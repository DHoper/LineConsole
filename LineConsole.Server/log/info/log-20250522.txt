[2025-05-22 17:49:25 Warning] The WebRootPath was not found: "/app/wwwroot". Static files may be unavailable.
[2025-05-22 17:49:25 Warning] The WebRootPath was not found: "/app/wwwroot". Static files may be unavailable.
[2025-05-22 17:49:26 Information] Now listening on: "http://[::]:8080"
[2025-05-22 17:49:26 Information] Now listening on: "https://[::]:8081"
[2025-05-22 17:49:26 Information] Application started. Press Ctrl+C to shut down.
[2025-05-22 17:49:26 Information] Hosting environment: "Development"
[2025-05-22 17:49:26 Information] Content root path: "/app"
[2025-05-22 17:54:34 Warning] The WebRootPath was not found: "/app/wwwroot". Static files may be unavailable.
[2025-05-22 17:54:34 Warning] The WebRootPath was not found: "/app/wwwroot". Static files may be unavailable.
[2025-05-22 17:54:34 Information] Now listening on: "http://[::]:8080"
[2025-05-22 17:54:34 Information] Now listening on: "https://[::]:8081"
[2025-05-22 17:54:34 Information] Application started. Press Ctrl+C to shut down.
[2025-05-22 17:54:34 Information] Hosting environment: "Development"
[2025-05-22 17:54:34 Information] Content root path: "/app"
[2025-05-22 17:54:35 Information] Request starting "HTTP/2" "GET" "https"://"localhost:32768""""/swagger/index.html""" - null null
[2025-05-22 17:54:35 Information] Request finished "HTTP/2" "GET" "https"://"localhost:32768""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 183.7966ms
[2025-05-22 17:54:35 Information] Request starting "HTTP/2" "GET" "https"://"localhost:32768""""/swagger/v1/swagger.json""" - null null
[2025-05-22 17:54:36 Information] Request finished "HTTP/2" "GET" "https"://"localhost:32768""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 141.8425ms
[2025-05-22 17:54:38 Information] Request starting "HTTP/2" "GET" "https"://"localhost:32768""""/swagger/index.html""" - null null
[2025-05-22 17:54:38 Information] Request finished "HTTP/2" "GET" "https"://"localhost:32768""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 8.1819ms
[2025-05-22 17:54:38 Information] Request starting "HTTP/2" "GET" "https"://"localhost:32768""""/swagger/v1/swagger.json""" - null null
[2025-05-22 17:54:38 Information] Request finished "HTTP/2" "GET" "https"://"localhost:32768""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 42.2903ms
[2025-05-22 18:10:44 Information] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[2025-05-22 18:10:44 Information] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
[2025-05-22 18:10:44 Information] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result"
[2025-05-22 18:10:44 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;"
[2025-05-22 18:10:44 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
[2025-05-22 18:10:44 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
[2025-05-22 18:10:44 Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
[2025-05-22 18:10:44 Information] Applying migration '"20250522095718_InitSchema"'.
[2025-05-22 18:10:44 Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Users] DROP CONSTRAINT [PK_Users];"
[2025-05-22 18:10:44 Information] Executed DbCommand ("149"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[Users]', N'users', 'OBJECT';"
[2025-05-22 18:10:44 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[users].[Name]', N'name', 'COLUMN';"
[2025-05-22 18:10:44 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[users].[Email]', N'email', 'COLUMN';"
[2025-05-22 18:10:44 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[users].[Id]', N'id', 'COLUMN';"
[2025-05-22 18:10:44 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""EXEC sp_rename N'[users].[CreatedAt]', N'created_at', 'COLUMN';"
[2025-05-22 18:10:44 Information] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[users]') AND [c].[name] = N'name');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [users] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [users] ALTER COLUMN [name] nvarchar(100) NULL;"
[2025-05-22 18:10:44 Information] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[users]') AND [c].[name] = N'email');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [users] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [users] ALTER COLUMN [email] nvarchar(255) NOT NULL;"
[2025-05-22 18:10:44 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [users] ADD [password] nvarchar(255) NOT NULL DEFAULT N'';"
[2025-05-22 18:10:44 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [users] ADD [updated_at] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
[2025-05-22 18:10:44 Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [users] ADD CONSTRAINT [PK_users] PRIMARY KEY ([id]);"
[2025-05-22 18:10:44 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [line_official_accounts] (
    [id] uniqueidentifier NOT NULL,
    [user_id] uniqueidentifier NOT NULL,
    [line_user_id] nvarchar(100) NOT NULL,
    [channel_name] nvarchar(100) NULL,
    [access_token] text NOT NULL,
    [created_at] datetime2 NOT NULL,
    [updated_at] datetime2 NOT NULL,
    CONSTRAINT [PK_line_official_accounts] PRIMARY KEY ([id])
);"
[2025-05-22 18:10:44 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [line_rich_menus] (
    [id] uniqueidentifier NOT NULL,
    [account_id] uniqueidentifier NOT NULL,
    [name] nvarchar(255) NOT NULL,
    [chat_bar_text] nvarchar(255) NOT NULL,
    [selected] bit NOT NULL,
    [width] int NOT NULL,
    [height] int NOT NULL,
    [created_at] datetime2 NOT NULL,
    [updated_at] datetime2 NOT NULL,
    CONSTRAINT [PK_line_rich_menus] PRIMARY KEY ([id])
);"
[2025-05-22 18:10:44 Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [line_rich_menu_areas] (
    [id] uniqueidentifier NOT NULL,
    [rich_menu_id] uniqueidentifier NOT NULL,
    [x] int NOT NULL,
    [y] int NOT NULL,
    [width] int NOT NULL,
    [height] int NOT NULL,
    [action_type] nvarchar(50) NOT NULL,
    [action_data] text NULL,
    [action_text] nvarchar(255) NULL,
    [action_uri] text NULL,
    [rich_menu_alias_id] nvarchar(100) NULL,
    [datetime_value] nvarchar(50) NULL,
    CONSTRAINT [PK_line_rich_menu_areas] PRIMARY KEY ([id]),
    CONSTRAINT [FK_line_rich_menu_areas_line_rich_menus_rich_menu_id] FOREIGN KEY ([rich_menu_id]) REFERENCES [line_rich_menus] ([id]) ON DELETE CASCADE
);"
[2025-05-22 18:10:44 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [line_rich_menu_schedules] (
    [id] uniqueidentifier NOT NULL,
    [rich_menu_id] uniqueidentifier NOT NULL,
    [account_id] uniqueidentifier NOT NULL,
    [start_time] datetime2 NOT NULL,
    [end_time] datetime2 NOT NULL,
    [is_executed] bit NOT NULL,
    [executed_at] datetime2 NULL,
    [created_at] datetime2 NOT NULL,
    [RichMenuEntityId] uniqueidentifier NULL,
    CONSTRAINT [PK_line_rich_menu_schedules] PRIMARY KEY ([id]),
    CONSTRAINT [FK_line_rich_menu_schedules_line_rich_menus_RichMenuEntityId] FOREIGN KEY ([RichMenuEntityId]) REFERENCES [line_rich_menus] ([id])
);"
[2025-05-22 18:10:44 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_line_rich_menu_areas_rich_menu_id] ON [line_rich_menu_areas] ([rich_menu_id]);"
[2025-05-22 18:10:44 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_line_rich_menu_schedules_RichMenuEntityId] ON [line_rich_menu_schedules] ([RichMenuEntityId]);"
[2025-05-22 18:10:44 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250522095718_InitSchema', N'9.0.5');"
[2025-05-22 18:10:44 Information] Applying migration '"20250522100843_revise_Richmenu_rel"'.
[2025-05-22 18:10:44 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [line_rich_menu_schedules] DROP CONSTRAINT [FK_line_rich_menu_schedules_line_rich_menus_RichMenuEntityId];"
[2025-05-22 18:10:44 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_line_rich_menu_schedules_RichMenuEntityId] ON [line_rich_menu_schedules];"
[2025-05-22 18:10:44 Information] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[line_rich_menu_schedules]') AND [c].[name] = N'RichMenuEntityId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [line_rich_menu_schedules] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [line_rich_menu_schedules] DROP COLUMN [RichMenuEntityId];"
[2025-05-22 18:10:44 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_line_rich_menu_schedules_rich_menu_id] ON [line_rich_menu_schedules] ([rich_menu_id]);"
[2025-05-22 18:10:44 Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [line_rich_menu_schedules] ADD CONSTRAINT [FK_line_rich_menu_schedules_line_rich_menus_rich_menu_id] FOREIGN KEY ([rich_menu_id]) REFERENCES [line_rich_menus] ([id]) ON DELETE CASCADE;"
[2025-05-22 18:10:44 Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250522100843_revise_Richmenu_rel', N'9.0.5');"
[2025-05-22 18:10:44 Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result"
